\subsection{Signal Model}

\begin{frame}{Signal model}

    % Sound propagation process $\Leftrightarrow$ Source $\to$ Filter $\to$ Receiver model

    For one source and $I$ microphones:

    \begin{equation*}
        \tikzmarknode{x}{\contMic}_i(t)
                = (
                    \textcolor{orange}{\tikzmarknode{h}{\contRIR}_i}
                    \tikzmarknode{A}{\contConv}
                    \tikzmarknode{s}{\contSrc})(t)
                    + \tikzmarknode{n}{\contNse}(t)
                    \quad i \in I
    \end{equation*}


    \vfill
    \begin{mydefblock}{\tikzmarknode{RIR}{Room Impulse Response} (RIR)}
        \small
        \begin{itemize}
            \item linear filtering effect of the sound propagation (reverberation)
            \item acoustic response of a room to a (prefect) impulsive sound
            \item depends on spatial properties (room geometry, mic/src position)
            \item $\contRIR_i \neq \contRIR_j$
        \end{itemize}
    \end{mydefblock}

    \begin{tikzpicture}[overlay,remember picture,
        nodes={inner sep=1pt, align=center, font=\footnotesize},
        gray!70,>=stealth] %
    \draw[->] (x.north) to[out=90, in=0]   ++ (-8mm,+4mm) node[left] {{mic. signal}};
    \draw[->] (s.north) to[out=90, in=180] ++ (+8mm,+4mm) node[right] {{source signal}};
    \draw[->] (n.south) to[out=-90, in=180] ++ (+8mm,-4mm) node[right] {{noise term}};
    \draw[->] (A.south) to[out=-90, in=180] ++ (+8mm,-8mm) node[right] {{\faExclamationTriangle~continuous-time convolution}};
    \draw[->] (h.south) to[out=-90, in=90] (RIR.north);
    \end{tikzpicture}

\end{frame}


\begin{frame}{Signal model}
    \begin{columns}[T,onlytextwidth]
        \column{0.48\textwidth}
        \begin{equation*}
            \begin{aligned}
                \contMic_i(t) &= (\contRIR_i \contConv \contSrc)(t) + \contNse(t)\\
                \contRIR_i(t) &= \textcolor{myred}{\contRIRidirect}(t)
                              + \textcolor{myblue}{\contRIRiearly}(t)
                              + \textcolor{mygreen}{\contRIRilate}(t)

            \end{aligned}
        \end{equation*}
        \begin{itemize}\small
            \item $\textcolor{myred}{\contRIRidirect}(t)$ = direct path
            \item $\textcolor{myblue}{\contRIRiearly}(t)$ = early reflection
            \item $\textcolor{mygreen}{\contRIRilate}(t)$ = late reverberation
        \end{itemize}

        \column{0.48\textwidth}
        \includegraphics[width=.8\textwidth]{figures/rir_bang.png}

    \end{columns}

    \begin{center}
        % real RIR with part
        \includegraphics[width=0.8\textwidth]{figures/rir_measured.png}
    \end{center}

\end{frame}

\subsection{Current Challenges}

\begin{frame}{Problem Statement}
    Echoes can be modeled as sum of Dirac's delta function:

    \begin{equation*}
        \contRIR_i(t) =
            \textcolor{myred}{\contRIRidirect}(t) + \textcolor{myblue}{\contRIRiearly}(t) + \varepsilon_i(t)
            \approx \sum_{r=0}^{R} \ampir \delta(t - \textcolor{alert}{\tauir}) + \tikzmarknode{error}{\varepsilon}_i(t)
    \end{equation*}

    \begin{textblock*}{30mm}(100mm,35mm)
        \footnotesize
        \textcolor{gray}{\tikzmarknode{model}{models} later echoes, reverberation and other.}
    \end{textblock*}


    \begin{tikzpicture}[overlay,remember picture,
        nodes={inner sep=1pt, align=center, font=\footnotesize},
        gray!70,>=stealth] %
    \draw[->] (error.north) to[out=90, in=180] (model.west);
    \end{tikzpicture}


    \begin{mydefblock}{Goals: Acoustic Echo Retrieval (AER)}
        Estimated $\set{\alert{\tauir}, \ampir_i}_{i,r}$
        for the microphone signal $\set{x_i}_i$
    \end{mydefblock}
    % \addendum{\scriptsize {Estimation of only $\tauir$ is known as TOAs estimation}}

\end{frame}


\begin{frame}{Problem Statement}

    \begin{mydefblock}{Goals: Acoustic Echo Retrieval (AER)}
        Estimated $\set{\alert{\tauir}, \ampir_i}_{i,r}$
        for the microphone signal $\set{x_i}_i$
    \end{mydefblock}

    \begin{block}{Challenges:}
        \begin{itemize}
            \item RIRs depend on the scene geometry (room, source and mic position)
            \item Big under-modelling error (late reverberation and noise)
            \item $\ampir$ are distorted:
            \begin{itemize}
                \item due to air attenuation, wall absorption:
                \item $\ampir \to \ampir(t) \implies$ echo model is sum of filters
                \item due to sampling process{\footnotesize~\cite{tukuljac2018mulan}}
            \end{itemize}
        \end{itemize}
    \end{block}

    \begin{center}
        \includegraphics[width=0.8\textwidth]{figures/basismismatch.png}
        \\{\addendum{\scriptsize Courtesy of Helena Tukuljac~\cite{tukuljac2018mulan}}}
        \\{\small \textcolor{myred}{\iconAlert~sampling breaks sparsity and non-negativity}}
    \end{center}

\end{frame}